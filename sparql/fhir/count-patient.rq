# File:  count-patient.rq
# If you make changes to this query, please check them into
# github under noflo-rdf-components/sparql/fhir
###########################################################
#
# Count patients
#
# This query depends on metadata in mGraph:

PREFIX meta: <urn:meta#>
PREFIX mGraph: <urn:local:mGraph>

select (count(?patientId) as ?nPatients) {
select distinct ?patientId { 
  graph mGraph: { 
    ?s a meta:Graph ;
      meta:patientId ?patientId .
  } }
}

